Metadata-Version: 2.1
Name: sarfile
Version: 0.1.0
Summary: ML project template repository
Home-page: https://github.com/codekansas/sarfile
Author: Benjamin Bolte
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Provides-Extra: dev
Requires-Dist: black; extra == "dev"
Requires-Dist: darglint; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-timeout; extra == "dev"
Requires-Dist: ruff; extra == "dev"

# sarfile

Like tarfile, but streamable.

## What is this?

This repository implements a "streaming archive" file format for collecting multiple files into one. This is similar to the tar format, but it puts the information about all the files in the archive into a contiguous block at the end of the file. This makes it easier to do things like stream chunks of the file from S3 without having to download the entire file.

## Getting Started

Install the package using Pip:

```bash
pip install sarfile
```

Next, convert a tarfile to a sarfile:

```bash
tar2sar myfile.tar myfile.sar
```

Finally, the file can be used in your Python script:

```python
import sarfile

with sarfile.open("myfile.sar", "r") as f:
    for member in f.getmembers():
        print(member.name)
        print(f.extractfile(member).read())
```

This can be paired with `smart_open` to read from a file on S3:

```python
from smart_open import open
import sarfile

with sarfile.open(fileobj=open("s3://mybucket/file.sar"), "r") as f:
    # This loop will be much faster because all members are pulled from the
    # archive's index in a single request.
    for member in f.getmembers():
      print(member)
```

## Requirements

This package simply requires Python 3.6 or higher. It is tested against Python 3.10.
